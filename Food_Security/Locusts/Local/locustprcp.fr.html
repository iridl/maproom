<INGRID>
home .grover .EMILY .Analyses .Locust .CMORPH .dekadsum
mimeheader
pop
</INGRID>
<html>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<head><title>Analyse des Précipitations pour la Surveillance du Criquet Pèlerin - Analyses Locales</title>
<link REL=stylesheet TYPE="text/css" HREF="/site.html">
</head>
<body bgcolor="#ffffff" link="#993333" vlink="#993333" alink="#FF0000">
<INGRID>leftmenu</INGRID>
<form action=locustprcp.html>


<INGRID>

saveLanguage

/onebox {2 index 1 index {.name cvx exec first pointwidth 2 copy sub 3 1 roll add 3 -1 roll pop}forall counttoobject 1 add -1 roll pop {mystream mygrids xlo xhi ylo yhi}inputs mystream mygrids 0 get xlo xhi RANGE
dup 0 replaceNaN exch
 mygrids 1 get ylo yhi RANGE mygrids 0 get xlo xhi definite-integral mygrids 1 get ylo yhi definite-integral 
exch dataflag
 mygrids 1 get ylo yhi RANGE mygrids 0 get xlo xhi definite-integral mygrids 1 get ylo yhi definite-integral 
.5	normalize
1output}def
/onebox {2 index 1 index {.name cvx exec first pointwidth 2 copy sub 3 1 roll add 3 -1 roll pop}forall counttoobject 1 add -1 roll pop {mystream mygrids xlo xhi ylo yhi}inputs mystream 
mygrids 0 get xlo xhi add 2. div VALUE
 mygrids 1 get ylo yhi add 2. div VALUE
1output}def
home .grover .EMILY .Analyses .Locust .CMORPH .dekadsum
SOURCES .NOAA .NCEP .CPC .CMORPH .daily .mean .morphed .cmorph 24 mul /units (mm) def 
% checks and does spatial average if map .Y .step is bigger than grid step
2 { exch
WWWinfo .FORMinfo .map .Y /step getknown
{ 
dup (district) eq
{ 
IRIDB
  (select gid,afr_adm01_3_geom as geom,country_na,name1,name2,name3,name4,centroid(afr_adm01_3_geom) as center,distance(centroid(afr_adm01_3_geom),GeometryFromText( 'POINT(YYYY)',4326 )) from afr_adm01_3 where afr_adm01_3_geom  &&  GeometryFromText( 'POINT(XXXX)',4326 ) ORDER BY distance(centroid(afr_adm01_3_geom),GeometryFromText( 'POINT(YYYY)',4326 )) LIMIT 1)
(XXXX) rsearch pop nip
 X WWWinfo .FORMinfo .map .X .plotvalue readunits  s== nip
( )
 Y WWWinfo .FORMinfo .map .Y .plotvalue readunits  s== nip
3array astore concat
%dup (,) exch 3array astore concat
exch
3array astore concat 
2 {
(YYYY) rsearch pop nip
 X WWWinfo .FORMinfo .map .X .plotvalue readunits  s== nip
( )
 Y WWWinfo .FORMinfo .map .Y .plotvalue readunits  s== nip
3array astore concat
exch
3array astore concat 
} repeat
openquery
%mark gid name1 name2 name3 name4
%name1 reserverealization
%name2 reserverealization
%name3 reserverealization
%name4 reserverealization
%table: mark :table .html-count pop
/districtinfo WWWinfo !
pop
WWWinfo .districtinfo .geom [X Y] weighted-average
} 
{
interp 
dup
Y .step gt
{
exch
  Y 2 index splitstreamgrid
  X 2 index splitstreamgrid
  [X Y]0.5 average
  X2 /X renameGRID
  Y2 /Y renameGRID
 nip
}
{pop
} ifelse
Y /step WWWinfo .FORMinfo .map .Y .step interp def pop
} ifelse
} 
{
Y .step /step WWWinfo .FORMinfo .map .Y !
}
ifelse
dup /Y known {Y /step step def pop
X WWWinfo .FORMinfo .map .X .plotvalue VALUE
Y WWWinfo .FORMinfo .map .Y .plotvalue VALUE
} if
} repeat % end of spatial average

exch  
</INGRID>


<center><table width="580"><tbody><tr valign="top"><td align="left">
<table cellpadding="4" cellspacing="4" bgcolor="#ffffff"><tbody><tr bgcolor="#f0f0f0"><td>
<INGRID>
SOURCES .WORLDBATH .bath
WWWinfo .FORMinfo .map .Y .step (district) eq
{WWWinfo .districtinfo a: .geom :a: .center :a 
X Y fig: lightgrey mask grey states_gaz black countries_gaz red fill  red geometrysmallpushpins :fig
}
{
1 index a: .X first pointwidth .5 mul sub nip 
:a: .Y first pointwidth .5 mul sub nip
 :a: .X first pointwidth .5 mul add nip 
:a: .Y first pointwidth .5 mul add nip :a
georect
2 index a: .X .first :a: .Y .first :a
togeopoint 
a: .lon :a: .lat :a 
X Y fig: lightgrey mask grey states_gaz black countries_gaz red fill  red smallpushpins :fig
} ifelse

 /plotaxislength 120 psdef /plotborder 0 psdef
/plotbordertop 8 psdef
/plotborderright 8 psdef
/plotborderleft 8 psdef
/plotborderbottom 8 psdef
/antialias true psdef
/map imagelink
</INGRID></td><td align="left">
<font face="Helvetical,Arial" point-size=10pt size=-1>
Observations dans une boîte <br>centrée sur :<br>
<b><INGRID>
WWWinfo .FORMinfo .map .Y .step (district) eq
{
WWWinfo .districtinfo
[ country_na name1 name2 name3 name4 ] {reserverealization} forall
()
[
name4 getrealization 
name3 getrealization 
name2 getrealization 
name1 getrealization 
country_na getrealization
] { dup (N.A.) eq {pop}{exch print print (, )}ifelse} forall
pop
pop
}
{
X first printunits pop
(, ) print
Y first printunits pop
(<br> ~ )print
 Y .step
10000 90. div mul floor cvi dup ==ns (x) print ==ns ( km) print
} ifelse
</INGRID></b></font>
</td>
<INGRID>
showmenu? {
(<td bgcolor=white cellpadding=12>)print
(map.Y.step) WWWinfo .FORMinfo .map .Y .step 
dup (district) ne {interp} if startselect
.25 (27km) valueoption
.75 (83km) valueoption
endselect
(<input name="map.X.plotvalue" size=8 value=")print
WWWinfo .FORMinfo .map .X .plotvalue print(">\n) print
(<input name="map.Y.plotvalue" size=8 value=")print WWWinfo .FORMinfo .map .Y .plotvalue print(">\n)print
(<input type="hidden" name="map.X.units" value=")print WWWinfo .FORMinfo .map .X .units print(">\n)print
(<input type="hidden" name="map.Y.units" value=")print WWWinfo .FORMinfo .map .Y .units print(">\n)print
(<input type="hidden" name="map.X.plotfirst" value=")print WWWinfo .FORMinfo .map .X .plotfirst print(">\n)print
(<input type="hidden" name="map.Y.plotfirst" value=")print WWWinfo .FORMinfo .map .Y .plotfirst print(">\n)print
(<input type="hidden" name="map.X.plotlast" value=")print WWWinfo .FORMinfo .map .X .plotlast print(">\n)print
(<input type="hidden" name="map.Y.plotlast" value=")print WWWinfo .FORMinfo .map .Y .plotlast print(">\n)print
(<input type=submit value="Générer de nouvelles séries temporelles">) print
(</td>)print
} if
</INGRID>
</tr></tbody></table>
<table border cellpadding="6" cellspacing="4" bgcolor="#ffffff"><tbody><tr valign="top"><td width="50%"  bgcolor=#F0F8FF>
<font face="Helvetical,Arial" point-size=9pt size=-1>
<b>a) Précipitaions quotidiennes au cours des 12 derniers mois</b><br>
</font>
<center>
<a href="/<INGRID>1 index dup dataseturl</INGRID>/T/last/365/sub/last/RANGE/dup/0/mul/T/fig:/deltabars/:fig/figviewer.html?my.help=more+options" OnMouseOver="self.status='Click here to modify graph';return true">

<img src="/<INGRID> dup dataseturl</INGRID>/T/last/365/sub/last/RANGE/dup/0/mul/T/fig:/deltabars/:fig//plotborder+72+psdef//plotbordertop+20+psdef//plotborderbottom+62+psdef//plotaxislength+250+psdef//XOVY+null+psdef+.gif" NOSAVE border=0 ALT="Daily precipitation time series for most recent 12-month period" title="Daily precipitation time series for most recent 12-month period" width=322 height=197</a>
</center>
<font size=-1><br><a href="/<INGRID> dup dataseturl</INGRID>/T/last/365/sub/last/RANGE/T+exch/2+ncoltable.html?tabopt.N=3&tabopt.1=text&tabopt.2=text&tabopt.3=markNaN&NaNmarker=NaN&tabtype=html">Données du graphe</a></font>


</td><td height="200" bgcolor="#F0F8FF" width="50%">
<font face="Helvetical,Arial" point-size=9pt size=-1>
<b>b) Précipitations décadaires (10 jours) de Jan 2003 à aujourd'hui</b><br>
</font>
<center>
<a href="/<INGRID>1 index dup dataseturl</INGRID>/dup/0/mul/T/fig:/deltabars/:fig/figviewer.html?my.help=more+options" OnMouseOver="self.status='Click here to modify graph';return true">

<img src="/<INGRID> dup dataseturl</INGRID>/dup/0/mul/T/fig:/deltabars/:fig//plotborder+72+psdef//plotbordertop+20+psdef//plotborderbottom+62+psdef//plotaxislength+250+psdef//XOVY+null+psdef+.gif" NOSAVE border=0 ALT="Dekadal precipitation time series" title="Dekadal precipitation time series" width=322 height=197></a>
</center>
<font size=-1><br><a href="/<INGRID> dup dataseturl</INGRID>/T+exch/2+ncoltable.html?tabopt.N=3&tabopt.1=text&tabopt.2=text&tabopt.3=markNaN&NaNmarker=NaN&tabtype=html">Données du graphe</a></font>
</td></tr><tr valign="top"><td width="50%" bgcolor="#F0F8FF">


<font face="Helvetical,Arial" point-size=9pt size=-1>
<b>c) Comparaison inter-annuelles des précipitations décadaires (10 jours)</b><br>
</font>
<center>
<a href="/<INGRID> dup dataseturl</INGRID>/T/2/copy//pointwidth/0/def/%286%20Jan%29VALUES/.T/.gridvalues/dup/length/4/sub/get/last/RANGE/T/name/npts/NewIntegerGRID//units/%281/3%20months%20since%202005-01-01%29def/replaceGRID/DATA/0/250/RANGE/dup/T/1/108/RANGE/T/0/36/72/shiftdata/T//modulus/36/def/pop/exch/T/-108/shiftGRID/T/1/last/RANGE/T//modulus/36/def/pop//fullname/%282008%29def/exch/a:/T_lag/72/VALUE/T_lag/removeGRID//fullname/%282007%29def/:a:/T_lag/36/VALUE/T_lag/removeGRID//fullname/%282006%29def/:a:/T_lag/0/VALUE/T_lag/removeGRID//fullname/%282005%29def/:a/T/fig:/medium/line/verythin/blue/solid/line/magenta/line/grey/line/:fig/figviewer.html?my.help=more+options" OnMouseOver="self.status='Click here to modify graph';return true">

<img src="/<INGRID> dup dataseturl</INGRID>/T/2/copy//pointwidth/0/def/%286%20Jan%29VALUES/.T/.gridvalues/dup/length/4/sub/get/last/RANGE/T/name/npts/NewIntegerGRID//units/%281/3%20months%20since%202005-01-01%29def/replaceGRID/DATA/0/250/RANGE/dup/T/1/108/RANGE/T/0/36/72/shiftdata/T//modulus/36/def/pop/exch/T/-108/shiftGRID/T/1/last/RANGE/T//modulus/36/def/pop//fullname/%282008%29def/exch/a:/T_lag/72/VALUE/T_lag/removeGRID//fullname/%282007%29def/:a:/T_lag/36/VALUE/T_lag/removeGRID//fullname/%282006%29def/:a:/T_lag/0/VALUE/T_lag/removeGRID//fullname/%282005%29def/:a/T/fig:/medium/line/verythin/blue/solid/line/magenta/line/grey/line/:fig/T/0.5/36.5/plotrange+//plotborder+72+psdef//plotbordertop+15+psdef//plotborderbottom+62+psdef//plotaxislength+250+psdef//XOVY+null+psdef+.gif" NOSAVE border=0 ALT="Multi-year dekadal precipitation comparison" title="Multi-year dekadal precipitation comparison" width=322 height=197></a>
</center>

</td><td bgcolor="#F0F8FF" width="50%">
<font face="Helvetical,Arial" point-size=9pt size=-1>
<b>d) Précipitations cumulées sur 12 mois</b><br>
</font>
<center>
<a href="/<INGRID> 1 index dataseturl </INGRID>/T/last/365/sub/last/RANGE/0/replaceNaN/T/differential_div/T/integral//fullname/%28Cumulative%20Precipitation%29def%5BT%5D2/SM121/dup/0/mul//fullname/%28Zero%20Ref%29def/2/copy/maskgt/1/index/T//pointwidth/0/def/pop/T/fig:/lightgrey/deltabars/grey/deltabars/|/black/medium/line/:fig/figviewer.html?my.help=more+options" OnMouseOver="self.status='Click here to modify graph';return true">

<img src="/<INGRID> 1 index dup dataseturl</INGRID>/T/last/365/sub/last/RANGE/0/replaceNaN/T/differential_div/T/integral//fullname/%28Cumulative%20Precipitation%29def%5BT%5D2/SM121/dup/0/mul//fullname/%28Zero%20Ref%29def/2/copy/maskgt/1/index/T//pointwidth/0/def/pop/T/fig:/lightgrey/deltabars/grey/deltabars/|/black/medium/line/:fig///plotborder+72+psdef//plotbordertop+20+psdef//plotborderbottom+62+psdef//plotaxislength+250+psdef//XOVY+null+psdef+.gif" NOSAVE border=0 ALT="Cumulative precipitation for most recent 12-month period" title="Cumulative precipitation for most recent 12-month period" width=322 height=197></a>
</center>

</td></tr><tr valign="top"><td colspan="2" bgcolor="#F0F8FF">
<font face="Helvetical,Arial" point-size=12pt size=-1>
<b><u>Description</u></b>
</font>
<font face="Helvetical,Arial" point-size=9pt size=-1>
<br>
a) Précipitaions quotidiennes au cours des 12 derniers mois dans la région selectionnée.
<p>
b) Précipitations décadaires* de Jan 2003 à aujourd'hui dans la région selectionnée.
<p>
c) Identique à (b) mais pour l'année calendaire courante (courbe noire en gras), comme indiqué par les axes. Les estimations de précipitations des années précédentes sont également tracées (bleu : -1 an ; magenta : -2 ans ; gris : -3 ans).
<p>
d) Précipitations cumulées sur 12 mois dans la région selectionnée.
</font>
<p>
<font face="Helvetical,Arial" point-size=12pt size=-1>
<b><u>Source</u></b>
<br></font>
<font face="Helvetical,Arial" point-size=9pt size=-1>
<b>Précipitations Estimées</b><br>
<font size=-1><b>Données</b> :&nbsp;&nbsp;Précipitations estimées quotidiennes sur une grille lat/lon 0,25&deg; x 0,25&deg;.</font>
<br><font size=-1><b>Source</b>:&nbsp; Climate Prediction Center Morphing Technique
(<a href="http://iridl.ldeo.columbia.edu/SOURCES/.NOAA/.NCEP/.CPC/.CMORPH/.daily_calculated/.dataset_documentation.html">CMORPH</a>) </font>
<br><font size=-1><b>Référence</b>:&nbsp; Joyce, R.J., J.E. Janowiak, P. A. Arkin and P. Xie, 2004: CMORPH: A Method that Produces Global Precipitation Estimates from Passive Microwave and Infrared Data at High Spatial and Temporal Resolution. <i>J. Hydrometeorology</i>, <b>5</b>, 487-503.

</font>
<p>
<font size=-1>*Les estimations de précipitations décadaires ont été accumulées à partir des données quotidiennes. Chaque mois a trois <i>dékades</i> : les deux premières ont 10 jours (i.e. 1-10 et 11-20), et la troisième comporte les jours restants du mois. Ainsi, la longueur de la troisième série n'est pas constante et varie de 8 à 11 jours, en fonction de la longueur du mois.</font>

</td></tr></tbody></table>
</td></tr></tbody></table>
</center></body></html>






